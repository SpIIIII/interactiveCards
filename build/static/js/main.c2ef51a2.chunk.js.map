{"version":3,"sources":["pages/sideBar.js","pages/nodes/nodes.js","pages/mainCard.js","backend/nodes.js","backend/graphs.js","App.js","index.js"],"names":["SideBarPunct","props","useState","selected","togSelect","subPunktsRef","useRef","arrowRef","update","upd","makeHovered","x","currentTarget","classList","add","makeUnHovered","remove","className","onClick","current","childNodes","style","display","onMouseEnter","onMouseLeave","icon","name","ref","console","log","faChevronRight","graph","excludeNodes","SideBar","first","faBookmark","second","faBuffer","Node","thisElRef","hovered","contains","classes","type","exNode","title","text","ecxlNodes","useForceUpdate","setValue","value","GraphWrapper","rows","forceUpdate","node","n","target","textContent","includes","filter","push","represente","nods","i","tytle","id","MainCard","childs","parents","this","added","child","parent","map","strParents","length","every","t","allNodes","Приветствие","Отключить","Graph","nodes","depth","root","exclNodes","cash","populating","parentNode","undefined","findNodeByTytle","newNode","addParent","addChilds","tempChilds","addChild","nodefy","startNode","Object","keys","values","floor","tempNodes","nod","isNodAdded","resetNodesAd","getFloor","isAllParents","intercept","App","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c2ef51a2.chunk.js","sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleRight, faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\nimport { faBookmark } from '@fortawesome/free-regular-svg-icons'\r\nimport { faBuffer } from '@fortawesome/free-brands-svg-icons'\r\n\r\n\r\n\r\n\r\nfunction SideBarPunct(props) {\r\n  const [selected, togSelect] = useState(false)\r\n  const subPunktsRef = useRef(null);\r\n  const arrowRef = useRef(null)\r\n  const update = props.upd()\r\n\r\n  const makeHovered = (x) => {\r\n      x.currentTarget.classList.add(\"barTextPreSelect\");\r\n  };\r\n  const makeUnHovered = (x) => {\r\n      x.currentTarget.classList.remove(\"barTextPreSelect\");\r\n  };\r\n\r\n  const makeSelected = (x) => {\r\n    if (selected) {\r\n      arrowRef.current.childNodes[0].classList.remove(\"sideBarArrowSelected\")\r\n      subPunktsRef.current.style.display = \"none\"\r\n      x.currentTarget.classList.remove(\"barTextSelect\")\r\n    }\r\n    else{\r\n      arrowRef.current.childNodes[0].classList.add(\"sideBarArrowSelected\")\r\n      subPunktsRef.current.style.display = \"block\"      \r\n      x.currentTarget.classList.add(\"barTextSelect\")\r\n    }\r\n    togSelect(!selected)\r\n  }\r\n  const arrowHower=(x)=>{\r\n    console.log(x.currentTarget.classList)\r\n    x.currentTarget.classList.add(\"sideBarArrowSelected\")\r\n  }\r\n  const subPunktClick = () =>{\r\n    props.graph.excludeNodes([ \"Приветствие\", \"Нет интернета\", \"Есть сессия\", \"Нет сессии\", \"Проверить индикацию роутера\", \"IPoE абонент\", \"TEST\" ])\r\n    update()\r\n  }\r\n\r\n  return (\r\n    <li className=\"sideBarPunkts\">\r\n      <div className=\"sideBarPunkt dont_select_text\" onClick={makeSelected} onMouseEnter={makeHovered}  onMouseLeave={makeUnHovered} >\r\n        {props.icon}\r\n        <span>{props.name}</span>\r\n        <div className=\"sideBarArrow\" ref={arrowRef} >\r\n          <FontAwesomeIcon className=\"FAArrow\" onMouseEnter={arrowHower} icon={faChevronRight} />\r\n        </div>\r\n      </div>\r\n      <ul className=\"sideBarSubPunkts dont_select_text\" ref={subPunktsRef}>\r\n        <li className=\"sideBarSubPunkt\"\r\n          onMouseEnter={makeHovered}\r\n         onMouseLeave={makeUnHovered}\r\n         onClick={subPunktClick}>Шаблон 1</li>\r\n      </ul>\r\n    </li>\r\n  );\r\n}\r\n\r\nfunction SideBar(props) {\r\n  const first = <span className=\"sideBarPunktIcon\"><FontAwesomeIcon   icon={faBookmark} /></span>\r\n  const second =  <span className=\"sideBarPunktIcon\"><FontAwesomeIcon   icon={faBuffer} /></span>\r\n  return (\r\n    <>\r\n    <div className=\"fakeBar col-sm-2\"></div>\r\n    <ul className=\" barText header_style sideBarFixed col-sm-2 sideBar\">\r\n          <SideBarPunct name={\"Шаблоны\"} icon={first} graph={props.graph} upd={props.upd}/>      \r\n          <SideBarPunct name={\"Другое\"} icon={second} graph={props.graph} upd={()=>{console.log(\"don't do anything\")}}/>        \r\n          {/* <SideBarPunct />        \r\n          <SideBarPunct />        \r\n          <SideBarPunct />        \r\n          <SideBarPunct /> */}\r\n    </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SideBar;","import React, {useRef, } from \"react\";\n\n\nfunction Node(props) {\n  const thisElRef = useRef()\n  const hovered = ()=>{\n    if (thisElRef.current.classList.contains(\"nodeHovered\"))  thisElRef.current.classList.remove(\"nodeHovered\")\n    else thisElRef.current.classList.add(\"nodeHovered\")\n  } \n\n  const selected = (x)=>{\n    if (thisElRef.current.classList.contains(\"nodeSelected\"))  {\n      \n      thisElRef.current.classList.remove(\"nodeSelected\")\n    }\n    else {\n      thisElRef.current.classList.add(\"nodeSelected\")\n    } \n    // excludeNodes(x.target.textContent)\n  }\n  const cl = [\"nodeResponse\", \"nodeFact\", \"nodeАсt\", \"nodeReq\" ]\n  let classes = \"col-md-auto node \" + cl[props.type-1]\n\n  return (\n    <div className={classes} onMouseEnter={hovered} onClick={x => {props.exNode(x); selected(x); props.upd()}} onMouseLeave={hovered} ref={thisElRef}>\n      <span className=\" header_style node_header_color\">{props.title}</span>\n      <div className=\"node_text_color text_style\">{props.text}</div>\n    </div>\n  );\n}\n\nexport default Node;\n","import React, { useState } from \"react\";\nimport Node from \"./nodes/nodes\";\n// import { allNodes } from \"../backend/nodes\";\n// import {  Graph } from \"../backend/graphs\";\n\nlet ecxlNodes = [\"Приветствие\"];\n\n\nfunction useForceUpdate() {\n  const [value, setValue] = useState(0); // integer state\n  return () => setValue(value => ++value); // update the state to force render\n}\n\nfunction GraphWrapper(props){\n  let rows = [];\n  const forceUpdate = useForceUpdate();\n\n  function excludeNodes(node) {\n    let n = node.target.textContent;\n    if (ecxlNodes.includes(n)) {\n      ecxlNodes = ecxlNodes.filter((x) => x !== n);\n    } else ecxlNodes.push(n);\n    props.graph.excludeNodes(ecxlNodes)\n  }\n  for (let node of props.graph.represente()) {\n    let nods = [];\n    for (let i of node) {\n      nods.push(\n        <Node\n          title={i.tytle}\n          type={i.type}\n          text={i.text}\n          exNode={excludeNodes}\n          upd={forceUpdate}\n        />\n      );\n    }\n    rows.push(\n      <div className=\"row justify-content-center rowModule\">{nods}</div>\n    );\n  }\n  return <>\n    <div className=\" col-sm-10 mainCard\" id=\"mainC\">{rows}</div>;\n    <div className=\"tempButton\" onClick={forceUpdate}>update</div>\n  </> \n\n}\n\nfunction MainCard(props) {\n  return (\n    <>\n      <GraphWrapper graph={props.graph}/>\n    </>\n  )\n}\n\nexport { MainCard, useForceUpdate };\n","class Node {\n  constructor(tytle, text = \"\", type = 0, childs = [], parents = []) {\n    this.tytle = tytle;\n    this.text = text;\n    this.type = type;\n    this.childs = childs;\n    this.parents = parents;\n    this.added = false;\n  }\n  addChild(child) {\n    this.childs.push(child);\n  }\n  addParent(parent) {\n    this.parents.push(parent);\n  }\n  isEqual(node) {\n    return node.tytle === this.tytle;\n  }\n  strParents() {\n    return this.parents.map((x) => x.tytle);\n  }\n  isAllParents(parents=[]){\n    let result\n    // console.log(this.tytle, parents, this.strParents() )\n    if (this.strParents().length > 1){\n      result = this.strParents().every(t => parents.includes(t))\n    } \n    else result=true \n    // console.log(result)\n    return result\n  }\n}\n\nconst speachNodes = {\n  Приветствие: {\n    child: [\n      \"Нет интернета\",\n      \"Низкая скорость\",\n      \"Уточнить номер договора\",\n      \"Уточнить время заявки\",\n      \"Перенести заявку\",\n      \"Частые пропадания\",\n      \"Отключить интернет\",\n      \"Подключить обещанный платеж\"\n    ],\n    text: \"Здравствуйте это компания Feonet, оператор _____ чем могу помочь\",\n    type: 1\n  },\n  \"Узнать адресc\": {\n    child: [\"Сообщить номер договора\"],\n    text: \"Назвоите пожалуйства свой полный адрес\",\n    type: 1\n  }\n};\n\nconst reqNodes = {\n  \"Нет интернета\": {\n    child: [\n      \"Есть сессия\",\n      \"Нет сессии\",\n      \"IPoE абонент\",\n      \"PPPoE абонент\",\n      \"Подключение оптикой\",\n      \"GPON абонент\"\n    ],\n    text: \"\",\n    type: 4\n  },\n  \"Низкая скорость\": { child: [], text: \"\", type: 4 },\n  \"Перенести заявку\": { child: [], text: \"\", type: 4 },\n  \"Уточнить номер договора\": { child: [\"Узнать адресc\"], text: \"\", type: 4 },\n  \"Уточнить время заявки\": { child: [], text: \"\", type: 4 },\n  \"Частые пропадания\": { child: [], text: \"\", type: 4 },\n  \"Отключить интернет\": {\n    child: [\"Проверить логин пароль\"],\n    text: \"\",\n    type: 4\n  },\n  \"Подключить обещанный платеж\": { child: [], text: \"\", type: 4 }\n};\n\nconst factNodes = {\n  \"Нет сессии\": {\n    child: [\"Проверить индикацию роутера\"],\n    text: \"\",\n    type: 2\n  },\n  \"Есть сессия\": {\n    child: [\"Проверить индикацию роутера\"],\n    text: \"\",\n    type: 2\n  },\n  \"IPoE абонент\": { child: [\"TEST\"], text: \"\", type: 2 },\n  \"PPPoE абонент\": { child: [], text: \"\", type: 2 },\n  \"GPON абонент\": { child: [], text: \"\", type: 2 },\n  \"Подключен оптикой\": { child: [], text: \"\", type: 2 },\n  \"Недостаточно средств\": { child: [], text: \"\", type: 2 },\n  \"Подключен к wifi\": { child: [], text: \"\", type: 2 },\n  \"Отменить заявку\": { child: [], text: \"\", type: 2 },\n  \"Подключение оптикой\": { child: [], text: \"\", type: 2 },\n  \"Проверить логин пароль\": {\n    child: [\"Отключить\", \"Восстановить данные\"],\n    text: \"\",\n    type: 2\n  },\n  \"Проверить индикацию роутера\": {\n    child: [\"wifi включен\", \"wifi выключен\", \"Линк есть\", \"Линка нет\", \"TEST\"],\n    text: \"\",\n    type: 2\n  },\n  \"wifi включен\": { child: [], text: \"\", type: 2 },\n  \"wifi выключен\": { child: [], text: \"\", type: 2 },\n  \"Линк есть\": { child: [], text: \"\", type: 2 },\n  \"Линка нет\": { child: [], text: \"\", type: 2 },\n  \"TEST\": { child: [], text: \"\", type: 2 },\n};\n\nconst actNodes = {\n  \"Заявка на ближайшее время\": { child: [], text: \"\", type: 3 },\n  \"Перезагрузить роутер\": { child: [], text: \"\", type: 3 },\n  \"Обновить сессию\": { child: [], text: \"\", type: 3 },\n  \"Сообщить номер договора\": { child: [], text: \"\", type: 3 },\n  Отключить: { child: [], text: \"\", type: 3 },\n  \"Восстановить данные\": { child: [], text: \"\", type: 3 }\n};\n\nconst allNodes = { ...speachNodes, ...actNodes, ...factNodes, ...reqNodes };\n\nexport { allNodes, Node };\n","import { Node } from \"./nodes\";\n\nclass Graph {\n  constructor(nodes) {\n    this.nodes = nodes;\n    this.depth = 0;\n    this.root = new Node(\n      \"Приветствие\",\n      \"Здравствуйте это компания Feonet, оператор _____ чем могу помочь\"\n    );\n    this.exclNodes = [];\n    this.cash = {\"Приветствие\": this.root}\n    this.populating();\n  }\n\n  nodefy(node, parentNode) {\n    if(this.findNodeByTytle(node, parentNode)!==undefined){\n      let newNode = this.findNodeByTytle(node, parentNode)\n      newNode.addParent(parentNode)\n      return newNode\n    }else{\n      let newNode = new Node(node);\n      newNode.addParent(parentNode);\n      this.addChilds(newNode);\n      this.cash[node] = newNode\n      return newNode; \n    }\n      \n  }\n\n  addChilds(parentNode) {\n    let tempChilds = this.nodes[parentNode.tytle].child;\n    parentNode.type = this.nodes[parentNode.tytle].type;\n    for (let child of tempChilds) {\n        parentNode.addChild(this.nodefy(child, parentNode));\n    }\n  }\n\n  populating() {\n    this.addChilds(this.root);\n    return this.root;\n  }\n\n  findNodeByTytle(tytle, startNode){\n    if (Object.keys(this.cash).includes(tytle)) return this.cash[tytle]\n    let parent = startNode\n    for (let child of parent.childs){\n      if(child.tytle === tytle) {\n        return child\n      } \n      if (child.childs.length>0) return this.findNodeByTytle(tytle, child)\n      else continue\n    }    \n  }\n\n  resetNodesAd(){\n    for (let node of Object.values(this.cash)){\n      node.added = false\n    }\n  }\n\n  isNodAdded(node){\n    if (node.added){\n      return true\n    }\n    else{\n      node.added = true\n      return false\n    }\n  }\n \n  *getFloors() {\n    let floor = [this.root];\n    while (floor.length > 0) {\n      yield floor;\n      let tempNodes = [];\n      for (let nod of floor) {\n        tempNodes.push(...nod.childs);\n      }\n      floor = [];\n      for (let nod of tempNodes) {\n        if (!this.isNodAdded(nod)) floor.push(nod);\n      }\n    }\n  }\n\n  getFloor(parents=[]) { \n    this.resetNodesAd()   \n      let childs = [];\n      let tempChilds = []\n      for (let nod of parents) {\n          tempChilds.push(...nod.childs);\n      }\n      for (let nod of tempChilds) {\n        if (!this.isNodAdded(nod)) childs.push(nod);\n      }\n      return childs\n  }\n\n  *represente() {\n    let parents = [this.root]\n    let childs = []\n    yield parents\n    while(parents.length>0){\n      childs = this.getFloor(parents)\n      childs=childs.filter(x=>x.isAllParents(this.exclNodes))\n      yield childs\n      let intercept = childs.map(x=>x.tytle).filter(x=>this.exclNodes.includes(x))\n      if (intercept.length>0){\n        childs=childs.filter(x=>intercept.includes(x.tytle))\n      }\n      parents = childs\n      \n    }\n  }\n\n  excludeNodes(exclNodes=[]){\n    console.log(exclNodes)\n    this.exclNodes = exclNodes\n  }\n}\n\n// function makeGraph(allNodes, nodes, tree, excl = []) {\n//   let chNodes = [];\n//   for (let e of excl) {\n//     if (nodes.includes(e)) {\n//       nodes = nodes.filter((x) => excl.includes(x));\n//     }\n//   }\n//   for (let node of nodes) {\n//     let tempNodes = [];\n//     tempNodes = allNodes[node].child;\n//     chNodes.push(...tempNodes);\n//   }\n//   if (chNodes.length === 0) return tree;\n\n//   tree.push(new Set(chNodes));\n//   return makeGraph(allNodes, chNodes, tree, excl);\n// }\n// const graph = [];\n// graph.push([\"Приветствие\"]);\n// let resultGraph = makeGraph(copyNodes, [\"Приветствие\"], graph, ecxlNodes);\n\nexport { Graph };\n","import React from \"react\";\nimport \"./styles.css\";\nimport SideBar from \"./pages/sideBar\";\nimport {MainCard, useForceUpdate} from \"./pages/mainCard\";\nimport { allNodes } from \"./backend/nodes\";\nimport {  Graph } from \"./backend/graphs\";\n\n\nexport default function App() {\n  const graph = new Graph(allNodes);\n  return (\n    <div className=\"App\">\n      <div className=\"row cont\">\n        <SideBar graph={graph} upd={useForceUpdate} />\n        <MainCard graph={graph} />\n      </div>\n    </div>\n  );\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}